(function(t){function e(e){for(var i,o,s=e[0],c=e[1],u=e[2],h=0,d=[];h<s.length;h++)o=s[h],r[o]&&d.push(r[o][0]),r[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(d.length)d.shift()();return a.push.apply(a,u||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(a.splice(e--,1),t=o(o.s=n[0]))}return t}var i={},r={app:0},a=[];function o(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=i,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)o.d(n,i,function(e){return t[e]}.bind(null,i));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/Rape_In_India/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0394":function(t,e,n){},"0562":function(t,e,n){"use strict";var i=n("3534"),r=n.n(i);r.a},"093a":function(t,e,n){"use strict";var i=n("989c"),r=n.n(i);r.a},"2b76":function(t,e,n){},"317e":function(t,e,n){},3534:function(t,e,n){},5520:function(t,e,n){"use strict";var i=n("700f"),r=n.n(i);r.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var i=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"step w-80 center"},[n("ThreeSankey",{staticClass:"mv5",style:"height: "+.9*t.windowHeight+"px;",attrs:{fileString:"policeDisposal",containerHeight:.9*t.windowHeight}})],1)},a=[],o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"particleSankey"}},[n("canvas",{attrs:{id:"drawingBoard",width:t.correctedWidth,height:t.correctedHeight}}),t._l(this.textNodes,function(e,i){return[n("span",{key:i,style:t.getSpanPosition(e)},[t._v(t._s(e.name))]),e.dy>1?n("div",{key:e.name,staticClass:"sankeyNodes",style:t.getNodePosition(e)}):t._e()]})],2)},s=[],c=(n("96cf"),n("3040")),u=(n("63d9"),n("9393")),l=n("c665"),h=n("aa9a"),d=(n("6762"),n("2fdb"),n("ac6a"),function(t){var e={nodes:[],links:[]};return t.forEach(function(t){e.nodes.includes(t.source)||e.nodes.push(t.source),e.nodes.includes(t.target)||e.nodes.push(t.target),e.links.push({source:t.source,target:t.target,value:+t.value})}),e.links.forEach(function(t,n){e.links[n].source=e.nodes.indexOf(e.links[n].source),e.links[n].target=e.nodes.indexOf(e.links[n].target)}),e.nodes.forEach(function(t,n){e.nodes[n]={name:t}}),e}),f=(n("55dd"),n("d940")),g=n("bc17"),p=(n("ee9f"),function(){var t={},e=24,n=8,i=[1,1],r=[],a=[];function o(){r.forEach(function(t){t.sourceLinks=[],t.targetLinks=[]}),a.forEach(function(t){var e=t.source,n=t.target;"number"===typeof e&&(e=t.source=r[t.source]),"number"===typeof n&&(n=t.target=r[t.target]),e.sourceLinks.push(t),n.targetLinks.push(t)})}function s(){r.forEach(function(t){t.value=Math.max(Object(g["j"])(t.sourceLinks,p),Object(g["j"])(t.targetLinks,p))})}function c(){var t,n=r,a=0;while(n.length)t=[],n.forEach(function(n){n.x=a,n.dx=e,n.sourceLinks.forEach(function(e){t.push(e.target)})}),n=t,++a;u((i[0]-e)/(a-1))}function u(t){r.forEach(function(e){e.x*=t})}function l(t){var e=Object(f["b"])().key(function(t){return t.x}).sortKeys(g["a"]).entries(r).map(function(t){return t.values});s(),l();for(var o=1;t>0;--t)u(o*=.99),l(),c(o),l();function s(){var t=Object(g["g"])(e,function(t){return(i[1]-(t.length-1)*n)/Object(g["j"])(t,p)});e.forEach(function(e){e.forEach(function(e,n){e.y=n,e.dy=e.value*t})}),a.forEach(function(e){e.dy=e.value*t})}function c(t){function n(t){return d(t.source)*t.value}e.forEach(function(e,i){e.forEach(function(e){if(e.targetLinks.length){var i=Object(g["j"])(e.targetLinks,n)/Object(g["j"])(e.targetLinks,p);e.y+=(i-d(e))*t}})})}function u(t){function n(t){return d(t.target)*t.value}e.slice().reverse().forEach(function(e){e.forEach(function(e){if(e.sourceLinks.length){var i=Object(g["j"])(e.sourceLinks,n)/Object(g["j"])(e.sourceLinks,p);e.y+=(i-d(e))*t}})})}function l(){e.forEach(function(t){var e,r,a,o=0,s=t.length;for(t.sort(h),a=0;a<s;++a)e=t[a],r=o-e.y,r>0&&(e.y+=r),o=e.y+e.dy+n;if(r=o-n-i[1],r>0)for(o=e.y-=r,a=s-2;a>=0;--a)e=t[a],r=e.y+e.dy+n-o,r>0&&(e.y-=r),o=e.y})}function h(t,e){return t.y-e.y}}function h(){function t(t,e){return t.source.y-e.source.y}function e(t,e){return t.target.y-e.target.y}r.forEach(function(n){n.sourceLinks.sort(e),n.targetLinks.sort(t)}),r.forEach(function(t){var e=0,n=0;t.sourceLinks.forEach(function(t){t.sy=e,e+=t.dy}),t.targetLinks.forEach(function(t){t.ty=n,n+=t.dy})})}function d(t){return t.y+t.dy/2}function p(t){return t.value}return t.nodeWidth=function(n){return arguments.length?(e=+n,t):e},t.nodePadding=function(e){return arguments.length?(n=+e,t):n},t.nodes=function(e){return arguments.length?(r=e,t):r},t.links=function(e){return arguments.length?(a=e,t):a},t.size=function(e){return arguments.length?(i=e,t):i},t.layout=function(e){return o(),s(),c(),l(e),h(),t},t.relayout=function(){return h(),t},t}),m=n("5225"),v=n("8d5c"),b=n("8533"),w=function(){function t(e,n,i,r){var a=Object(u["a"])(i,2),o=a[0],s=a[1];Object(l["a"])(this,t),this.data=d(n),this.regl=e,this.mobile=o<480,this.width=o,this.height=s,this.graph=(new p).nodes(this.data.nodes).links(this.data.links).nodeWidth(this.mobile?4:10).nodePadding(40).size(this.mobile?[s-20,o-20]:[o-20,s-20]).layout(32),this.nodes=this.graph.nodes(),this.numPoints=this.getNumPoints(),this.sourceX=new Float32Array(this.numPoints),this.sourceY=new Float32Array(this.numPoints),this.targetX=new Float32Array(this.numPoints),this.targetY=new Float32Array(this.numPoints),this.duration=new Float32Array(this.numPoints),this.elapsed=new Float32Array(this.numPoints),this.currentPositions=[],this.startTime=void 0}return Object(h["a"])(t,[{key:"start",value:function(){this.init()}},{key:"getNodes",value:function(){return this.nodes}},{key:"getNumPoints",value:function(){for(var t=0,e=0;e<this.nodes.length;e++)if(!this.nodes[e].targetLinks.length)for(var n=0;n<this.nodes[e].sourceLinks.length;n++)t+=this.nodes[e].sourceLinks[n].value;return t}},{key:"init",value:function(){var t=this;this.initialPositions();var e=this.regl({frag:v,vert:b,attributes:{sourceX:this.regl.prop("sourceX"),sourceY:this.regl.prop("sourceY"),targetX:this.regl.prop("targetX"),targetY:this.regl.prop("targetY"),elapsed:this.regl.prop("elapsed"),duration:this.regl.prop("duration")},uniforms:{color:function(t,e){return[1,.001,.001,1]},stageWidth:function(t,e){return e.width},stageHeight:function(t,e){return e.height},pointWidth:function(t,e){return e.pointWidth},isMobile:function(t,e){return e.isMobile}},count:this.numPoints,primitive:"points"});this.regl.frame(function(n){var i=n.time;t.mobile?t.width:t.height;if(!t.startTime){t.startTime=new Float32Array(t.numPoints);for(var r=0;r<t.numPoints;r++)t.startTime[r]=i+20*Math.random()}for(var a=0;a<t.numPoints;a++)t.elapsed[a]=1e3*(i-t.startTime[a]),t.elapsed[a]>t.duration[a]&&t.currentPositions[a].target.sourceLinks.length&&function(){var e=t.currentPositions[a].target.sourceLinks.map(function(t){return t.value}).reduce(function(t,e){return t+e}),n=t.currentPositions[a].target.sourceLinks.map(function(t){return t.value/e}),r=m(n);t.currentPositions[a].target.sourceLinks[r].value--,t.currentPositions[a]=t.currentPositions[a].target.sourceLinks[r];var o=t.currentPositions[a];t.startTime[a]=i,t.elapsed[a]=1e3*(i-t.startTime[a]),t.sourceX[a]=t.targetX[a],t.sourceY[a]=t.targetY[a],t.targetX[a]=t.mobile?o.target.y+o.ty+Math.random()*o.dy:o.target.x+Math.random()*o.target.dx,t.targetY[a]=t.mobile?o.target.x+Math.random()*o.target.dx:o.target.y+o.ty+Math.random()*o.dy}();e({sourceX:t.sourceX,sourceY:t.sourceY,targetX:t.targetX,targetY:t.targetY,elapsed:t.elapsed,duration:t.duration,startTime:t.startTime,height:t.height,width:t.width,pointWidth:3,isMobile:t.mobile})})}},{key:"initialPositions",value:function(){for(var t=0,e=0;e<this.nodes.length;e++)if(!this.nodes[e].targetLinks.length)for(var n=0;n<this.nodes[e].sourceLinks.length;n++)for(var i=this.nodes[e].sourceLinks[n],r=0;r<i.value;r++,t++){var a=this.mobile?i.source.y+i.sy+Math.random()*i.dy:i.source.x+Math.random()*i.source.dx,o=this.mobile?i.source.x+Math.random()*i.source.dx:i.source.y+i.sy+Math.random()*i.dy,s=this.mobile?i.target.y+i.ty+Math.random()*i.dy:i.target.x+Math.random()*i.target.dx,c=this.mobile?i.target.x+Math.random()*i.target.dx:i.target.y+i.ty+Math.random()*i.dy;this.sourceX[t]=a,this.sourceY[t]=o,this.targetX[t]=s,this.targetY[t]=c,this.duration[t]=1e3*(18*Math.random()+5),this.currentPositions.push(i)}}}]),t}(),y=n("387c"),_=(n("5abe"),n("d11d")),x=n.n(_),k=n("f7fe"),C=n("7dbb"),O={name:"ThreeSankey",props:["fileString","containerHeight"],data:function(){return{height:500,width:200,textNodes:[]}},computed:{correctedWidth:function(){return this.width*window.devicePixelRatio},correctedHeight:function(){return this.height*window.devicePixelRatio},vals:function(){return this.textNodes.map(function(t){return t.value})},mobile:function(){return this.width<480}},watch:{containerHeight:function(t,e){this.resize()}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,n,i,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.resize(),window.addEventListener("resize",k(this.resize,60)),t.prev=2,e=C({canvas:this.$el.children[0],attributes:{antialias:!1}}),t.next=6,Object(y["a"])("".concat(this.fileString,".csv"));case 6:n=t.sent,i=new w(e,n,[this.$el.children[0].clientWidth,this.$el.children[0].clientHeight],this.textNodes),this.textNodes=i.getNodes(),r=x()(),r.setup({step:".step",offset:1,once:!0}).onStepEnter(function(){i.start()}),t.next=16;break;case 13:t.prev=13,t.t0=t["catch"](2),console.log(t.t0);case 16:case"end":return t.stop()}},t,this,[[2,13]])}));return function(){return t.apply(this,arguments)}}(),methods:{resize:function(){this.width=this.$el.children[0].clientWidth,this.height=this.$el.children[0].clientHeight},getSpanPosition:function(t){return{top:"".concat(this.mobile?5+t.x+t.dx/2:t.y,"px"),left:"".concat(this.mobile?t.y:5+t.x+t.dx,"px"),width:"".concat(this.mobile?t.dy:t.dx,"px"),"min-width":"".concat(this.mobile?1:50,"px"),"font-size":"".concat(this.mobile?7:10,"px")}},getNodePosition:function(t){return{top:"".concat(this.mobile?t.x:t.y,"px"),left:"".concat(this.mobile?t.y:t.x,"px"),width:"".concat(this.mobile?t.dy:t.dx,"px"),height:"".concat(this.mobile?t.dx:t.dy,"px")}}}},S=O,j=(n("f787"),n("2877")),M=Object(j["a"])(S,o,s,!1,null,"0eb2184e",null);M.options.__file="ThreeSankey.vue";var P=M.exports,L={name:"SankeyContainer",components:{ThreeSankey:P},data:function(){return{windowHeight:0}},mounted:function(){this.windowHeight=window.innerHeight}},R=L,F=Object(j["a"])(R,r,a,!1,null,null,null);F.options.__file="SankeyContainer.vue";var H=F.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"db w-90 center"},[t._l(t.records,function(e){return[n("div",{staticClass:"w-50 w-25-ns dib pa2 mv3 white teko v-top"},[n("Stats",{attrs:{record:e,avgChargesheet:t.avgChargesheet,avgDisposed:t.avgDisposed,avgCourtDisposal:t.avgCourtDisposal,avgConviction:t.avgConviction}}),n("span",{staticClass:"db tc f4 mt1"},[t._v(t._s(e.State))])],1)]})],2)},E=[],T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"card ph2"},[n("div",{staticClass:"mv3"},[n("span",{staticClass:"db teko-body f5"},[t._v("Police investigations pending at the end of 2016")]),n("span",{staticClass:"dib f2"},[t._v(t._s(t.record["police_pending_2016"]))]),n("span",{staticClass:"dib f4 ml1",style:t.pendingChange>0?"color: red;":"color: limegreen;"},[t._v("\n      "+t._s((t.pendingChange>0?"↑":"↓")+Math.abs(t.pendingChange))+"\n    ")]),n("span",{staticClass:"dib f5 teko-body ml1"},[t._v("\n      "+t._s("from last year")+"\n    ")])]),n("div",{staticClass:"mv3"},[n("span",{staticClass:"db teko-body"},[t._v("Police disposal rate")]),n("span",{staticClass:"f2",style:t.avgDisposed>t.disposalRate?"color: red;":"color: limegreen;"},[t._v(t._s(t.disposalRate+"%"))]),n("span",{staticClass:"dib ml1 teko-body"},[t._v(t._s(t.avgDisposed>t.disposalRate?"Below average":"Above average"))])]),n("div",{staticClass:"mv3"},[n("span",{staticClass:"db teko-body"},[t._v("Chargesheeting rate")]),n("span",{staticClass:"f2 dib",style:t.chargeSheetRate<t.avgChargesheet?"color: red;":"color: limegreen;"},[t._v(t._s(t.chargeSheetRate+"%"))]),n("span",{staticClass:"dib ml1 teko-body"},[t._v(t._s(t.chargeSheetRate<t.avgChargesheet?"Below average":"Above average"))])]),n("div",{staticClass:"mv3"},[n("span",{staticClass:"db teko-body"},[t._v("Court trials pending at the end of 2016")]),n("span",{staticClass:"dib f2"},[t._v(t._s(this.record["court_pending"]))]),n("span",{staticClass:"dib f4 ml1",style:t.courtPendingChange>0?"color: red;":"color: limegreen;"},[t._v("\n      "+t._s((t.courtPendingChange>0?"↑":"↓")+Math.abs(t.courtPendingChange))+"\n    ")]),n("span",{staticClass:"dib f5 teko-body ml1"},[t._v("\n      "+t._s("from last year")+"\n    ")])]),n("div",{staticClass:"mv3"},[n("span",{staticClass:"db teko-body"},[t._v("Court disposal rate")]),n("span",{staticClass:"f2",style:t.avgCourtDisposal>t.courtDisposalRate?"color: red;":"color: limegreen;"},[t._v(t._s(t.courtDisposalRate+"%"))]),n("span",{staticClass:"dib ml1 teko-body"},[t._v(t._s(t.avgCourtDisposal>t.courtDisposalRate?"Below average":"Above average"))])]),n("div",{staticClass:"mv3"},[n("span",{staticClass:"db teko-body"},[t._v("Conviction rate")]),0!=t.record["court_completed"]?[n("span",{staticClass:"f2",style:t.avgConviction>t.courtConvicted?"color: red;":"color: limegreen;"},[t._v(t._s(t.courtConvicted+"%"))]),n("span",{staticClass:"dib ml1 teko-body"},[t._v(t._s(t.avgConviction>t.courtConvicted?"Below average":"Above average"))])]:[n("span",{staticClass:"f2"},[t._v("NA")])]],2)])},D=[],N=(n("c5f6"),n("f7fe"),{name:"Stats",data:function(){return{width:400,height:400,mobile:!1}},props:{record:{type:Object,default:function(){return{}}},avgDisposed:{type:Number,default:0},avgChargesheet:{type:Number,default:0},avgCourtDisposal:{type:Number,default:0},avgConviction:{type:Number,default:0}},computed:{disposalRate:function(){return parseFloat(this.record["police_disposed"]/this.record["total"]*100).toFixed(1)},courtDisposalRate:function(){return parseFloat(this.record["court_disposal"]/this.record["court_total"]*100).toFixed(1)},courtConvicted:function(){return parseFloat(this.record["court_convicted"]/this.record["court_completed"]*100).toFixed(1)},pendingChange:function(){return this.record["police_pending_2016"]-this.record["police_pending_2015"]},chargeSheetRate:function(){return(100*parseFloat(this.record["police_chargesheet"]/this.record["police_disposed"])).toFixed(1)},courtPendingChange:function(){return this.record["court_pending"]-this.record["court_2015"]},trialPendingRatio:function(){return parseFloat(this.record["court_2015"]/this.record["court_2016"]).toFixed(2)}},methods:{resizeWindow:function(){this.width=this.$el.getBoundingClientRect().width,this.height=this.$el.getBoundingClientRect().height,this.mobile=window.innerWidth<480}}}),A=N,W=(n("dd2b"),Object(j["a"])(A,T,D,!1,null,"3b7fa406",null));W.options.__file="Stats.vue";var $=W.exports,B={name:"SankeyMultiples",components:{Stats:$},data:function(){return{records:[],avgChargesheet:0,avgDisposed:0,avgCourtDisposal:0,avgConviction:0}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){var e,n,i,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(y["a"])("out.csv");case 2:this.records=t.sent,e=this.records.map(function(t){return t["police_chargesheet"]/t["police_disposed"]*100}),n=this.records.map(function(t){return t["police_disposed"]/t["total"]*100}),i=this.records.map(function(t){return t["court_disposal"]/t["court_total"]*100}),r=this.records.map(function(t){return t["court_convicted"]/t["court_completed"]*100}),this.avgChargesheet=parseFloat(Object(g["e"])(e).toFixed(2)),this.avgDisposed=parseFloat(Object(g["e"])(n).toFixed(2)),this.avgCourtDisposal=parseFloat(Object(g["e"])(i).toFixed(2)),this.avgConviction=parseFloat(Object(g["e"])(r).toFixed(2));case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},I=B,Y=(n("5520"),Object(j["a"])(I,z,E,!1,null,null,null));Y.options.__file="SankeyMultiples.vue";var X=Y.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dib w-100 w-50-ns"},[n("IndiaMap",{staticClass:"w-100",style:"height:"+.75*t.windowHeight+"px;",attrs:{windowHeight:t.windowHeight,featureStyle:this.fillFunction}}),n("MapLegend",{staticClass:"w-100 db center w-90-ns h3",attrs:{mapScale:t.scale,scaleMinMax:[0,5e3]}})],1)},K=[],V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",[t._l(this.mapData.features,function(e,i){return[n("path",{key:i,style:t.featureStyle(e),attrs:{name:e.properties["NAME_1"],d:t.path(e.geometry)}})]})],2)},q=[],J=n("645c"),Q=n("f7fe"),U={name:"IndiaMap",props:["windowHeight","featureStyle"],data:function(){return{mapData:{},width:400,height:400}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.resizeWindow(),window.addEventListener("resize",Q(this.resizeWindow,60)),t.prev=2,t.next=5,Object(y["b"])("india_geo.json");case 5:this.mapData=t.sent,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](2),console.log(t.t0);case 11:case"end":return t.stop()}},t,this,[[2,8]])}));return function(){return t.apply(this,arguments)}}(),watch:{windowHeight:function(t,e){this.resizeWindow()}},computed:{projection:function(){return Object(J["a"])().fitSize([this.width,this.height],this.mapData)},path:function(){return Object(J["b"])(this.projection)}},methods:{resizeWindow:function(){this.width=this.$el.getBoundingClientRect().width,this.height=this.$el.getBoundingClientRect().height}}},Z=U,tt=(n("d302"),Object(j["a"])(Z,V,q,!1,null,null,null));tt.options.__file="IndiaMap.vue";var et=tt.exports,nt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",[t._l(t.rectArray,function(t){return[n("rect",{attrs:{x:t.x,y:t.y,width:t.width,height:"12px",fill:t.color}})]}),t._l(t.allTicks,function(e){return[n("path",{attrs:{d:"M "+(t.scale(e)+t.margin)+","+(12+t.margin)+" L "+(t.scale(e)+t.margin)+","+(18+t.margin)}}),n("text",{attrs:{x:t.scale(e)+t.margin,y:30+t.margin+"px"}},[t._v(t._s(e))])]})],2)},it=[],rt=n("8afe"),at=n("e236"),ot=n("f7fe"),st={name:"MapLegend",props:["mapScale","scaleMinMax"],data:function(){return{width:400,height:100,margin:10}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.resizeWindow(),window.addEventListener("resize",ot(this.resizeWindow,60));case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),computed:{scale:function(){return Object(at["b"])().domain([this.scaleMinMax[0],this.scaleMinMax[1]]).range([0,this.width-2*this.margin])},rectArray:function(){for(var t=this.mapScale.range(),e=[],n=0;n<t.length;n++){var i=this.mapScale.invertExtent(t[n]);null==i[0]&&(i[0]=this.scale.domain()[0]),null==i[1]&&(i[1]=this.scale.domain()[1]);var r={x:this.scale(i[0])+this.margin,y:this.margin,height:10,width:this.scale(i[1])-this.scale(i[0]),color:t[n]};e.push(r)}return e},allTicks:function(){return Object(rt["a"])(this.scaleMinMax).concat(Object(rt["a"])(this.mapScale.domain()))}},methods:{resizeWindow:function(){this.width=this.$el.getBoundingClientRect().width,this.height=this.$el.getBoundingClientRect().height}}},ct=st,ut=(n("df7b"),Object(j["a"])(ct,nt,it,!1,null,"b377a182",null));ut.options.__file="MapLegend.vue";var lt=ut.exports,ht=n("5708"),dt={name:"MapNumber",components:{IndiaMap:et,MapLegend:lt},data:function(){return{ncrbData:[],windowHeight:0}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(y["a"])("tab1.csv");case 3:this.ncrbData=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}(),mounted:function(){this.windowHeight=window.innerHeight},computed:{scale:function(){return Object(at["f"])().domain([150,400,800,1600,3200]).range(ht["c"][6])}},methods:{fillFunction:function(t){var e=parseInt(this.ncrbData.filter(function(e){return e.State===t.properties["NAME_1"]})[0]["Rape_Total"]);return{fill:this.scale(e)}}}},ft=dt,gt=(n("f561"),Object(j["a"])(ft,G,K,!1,null,"1b95d24e",null));gt.options.__file="MapNumber.vue";var pt=gt.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-100 w-50-ns dib"},[n("IndiaMap",{staticClass:"w-100",style:"height:"+.75*t.windowHeight+"px;",attrs:{windowHeight:t.windowHeight,featureStyle:this.fillFunction}}),n("LegendLinear",{staticClass:"w-100 db center w-90-ns h3",attrs:{mapScale:t.scale}})],1)},vt=[],bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",[t._l(t.rectArray,function(t){return[n("rect",{attrs:{x:t.x,y:t.y,width:t.width,height:t.height,fill:t.color}})]}),t._l(t.allTicks,function(e){return[n("path",{attrs:{d:"M "+(t.scale(e)+t.margin)+","+(12+t.margin)+" L "+(t.scale(e)+t.margin)+","+(18+t.margin)}}),n("text",{attrs:{x:t.scale(e)+t.margin,y:30+t.margin+"px"}},[t._v(t._s(e))])]})],2)},wt=[],yt=n("f7fe"),_t={name:"LegendLinear",props:["mapScale"],data:function(){return{width:400,height:100,margin:10}},mounted:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.resizeWindow(),window.addEventListener("resize",yt(this.resizeWindow,60));case 2:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),computed:{scale:function(){return Object(at["b"])().domain(this.mapScale.domain()).range([0,this.width-2*this.margin])},rectArray:function(){for(var t=[],e=0;e<this.width-2*this.margin;e++){var n={x:e+this.margin,y:this.margin,height:12,width:1.2,color:this.mapScale(this.scale.invert(e))};t.push(n)}return t},allTicks:function(){return this.scale.ticks()}},methods:{resizeWindow:function(){this.width=this.$el.getBoundingClientRect().width,this.height=this.$el.getBoundingClientRect().height}}},xt=_t,kt=(n("83e2"),Object(j["a"])(xt,bt,wt,!1,null,"d4dc3ac2",null));kt.options.__file="LegendLinear.vue";var Ct=kt.exports,Ot={name:"MapNumber",components:{IndiaMap:et,LegendLinear:Ct},data:function(){return{ncrbData:[],domain:[],windowHeight:0}},mounted:function(){this.windowHeight=window.innerHeight},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(y["a"])("tab1.csv");case 3:this.ncrbData=t.sent,this.domain=Object(g["d"])(this.ncrbData,function(t){return parseFloat(t["Rape_Rate"])}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}(),computed:{scale:function(){return Object(at["e"])(ht["a"]).domain(this.domain)}},methods:{fillFunction:function(t){var e=this.ncrbData.filter(function(e){return e.State===t.properties["NAME_1"]})[0]["Rape_Rate"];return{fill:this.scale(e)}}}},St=Ot,jt=(n("d422"),Object(j["a"])(St,mt,vt,!1,null,"4f5d9280",null));jt.options.__file="MapRate.vue";var Mt=jt.exports,Pt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"db w-90 center"},[n("div",{staticClass:"db w-90 w-50-ns center mv5"},[t.data?n("BarChart",{staticClass:"w-100",staticStyle:{"min-height":"300px"},style:"height: "+.5*t.windowHeight,attrs:{containerHeight:.5*t.windowHeight,data:t.batchData(t.data.filter(function(t){return"National"==t.State})[0]),numTicks:4,verticalScaleType:"log",styleFunction:t.barchartStyle,marginBottom:75}}):t._e(),n("h3",{staticClass:"tc f3 mt2 teko white"},[t._v("Age of victims in reported rape crimes across India")])],1),t._l(t.data,function(e){return["National"!==e.State?n("div",{staticClass:"dib w-third w-ninth-ns mv3 v-top"},[n("BarChart",{key:e.State,staticClass:"w-100",style:"height: "+.15*t.windowHeight,attrs:{containerHeight:.15*t.windowHeight,data:t.batchData(e),domain:[1,5e3],numTicks:3,verticalScaleType:"log",styleFunction:t.barchartStyle,horizontalAxis:!1,margin:[0,0,0,0]}}),n("h5",{staticClass:"tc f4 teko white mt1"},[t._v(t._s(e.State))])],1):t._e()]})],2)},Lt=[],Rt=(n("456d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",[n("g",{staticClass:"bargraph",attrs:{transform:"translate("+t.marginLeft+", "+t.marginTop+")"}},[n("g",{staticClass:"bargraph-bars"},[t._l(t.data,function(e){return[e.value?n("rect",{style:t.styleFunction(e),attrs:{x:t.horizontalScale(e.key),y:t.height-t.verticalScale(e.value),width:t.horizontalScale.bandwidth(),height:t.verticalScale(e.value)}}):t._e()]})],2),n("g",{staticClass:"bargraph-grid"},[t._l(t.verticalTicks,function(e){return[n("path",{staticClass:"gridScale",attrs:{d:"M 0,"+(t.height-t.verticalScale(e))+" L "+t.width+","+(t.height-t.verticalScale(e)),name:e}})]})],2),n("g",{staticClass:"bargraph-verticalAxis"},[t._l(t.verticalTicks,function(e){return[n("text",{attrs:{x:"0",y:t.height-t.verticalScale(e)}},[t._v(t._s(e))])]})],2),t.horizontalAxis?n("g",{staticClass:"bargraph-horizontalAxis"},[t._l(t.horizontalTicks,function(e){return[n("text",{attrs:{x:t.horizontalScale(e)+t.horizontalScale.bandwidth()/3,y:t.height+t.horizontalAxisPadding,transform:"rotate(40 "+(t.horizontalScale(e)+t.horizontalScale.bandwidth()/3)+" "+(t.height+t.horizontalAxisPadding)+")"}},[t._v(t._s(e))])]})],2):t._e()])])}),Ft=[],Ht=n("f7fe"),zt={name:"BarChart",props:{data:{type:Array,default:[],required:!0},paddingInner:{type:Number,default:.2},paddingOuter:{type:Number,default:.5},margin:{type:Array,default:function(){return[20,20,20,20]}},marginTop:{type:Number,default:function(){return this.margin[0]}},marginRight:{type:Number,default:function(){return this.margin[1]}},marginBottom:{type:Number,default:function(){return this.margin[2]}},marginLeft:{type:Number,default:function(){return this.margin[3]}},horizontalAxisPadding:{type:Number,default:10},horizontalAxis:{type:Boolean,default:!0},domain:{type:Array,default:function(){return[1,Math.max.apply(Math,Object(rt["a"])(this.data.map(function(t){return t.value})))]}},numTicks:{type:Number},verticalScaleType:{type:String,default:"linear"},styleFunction:{type:Function,default:function(){return function(t){return{}}}},containerHeight:{type:Number,default:0}},data:function(){return{width:400,height:400}},mounted:function(){this.resizeWindow(),window.addEventListener("resize",Ht(this.resizeWindow,60))},watch:{containerHeight:function(t,e){this.resizeWindow()}},computed:{horizontalScale:function(){return Object(at["a"])().domain(this.data.map(function(t){return t.key})).range([0,this.width]).paddingOuter(this.paddingOuter).paddingInner(this.paddingInner)},verticalScale:function(){return Object(at["c"])().domain(this.domain).range(["log"===this.verticalScaleType?1:0,this.height])},verticalTicks:function(){return this.numTicks?this.verticalScale.ticks(this.numTicks):this.verticalScale.ticks()},horizontalTicks:function(){return this.data.map(function(t){return t.key})}},methods:{resizeWindow:function(){this.width=this.$el.getBoundingClientRect().width-this.marginLeft-this.marginRight,this.height=this.$el.getBoundingClientRect().height-this.marginTop-this.marginBottom}}},Et=zt,Tt=(n("b8a8"),Object(j["a"])(Et,Rt,Ft,!1,null,"42cbf4e6",null));Tt.options.__file="BarChart.vue";var Dt=Tt.exports,Nt={name:"Age",components:{BarChart:Dt},data:function(){return{data:!1,windowHeight:0}},mounted:function(){this.windowHeight=window.innerHeight},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(y["a"])("age.csv");case 3:this.data=t.sent,t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}));return function(){return t.apply(this,arguments)}}(),methods:{batchData:function(t){return Object.keys(t).filter(function(t){return"State"!==t&&"Number of Cases"!==t&&"Total Minor Victims"!==t&&"Total Adult Victims"!==t&&"Total Victims"!==t}).map(function(e){return{key:e,value:parseInt(t[e])}})},barchartStyle:function(t){var e=t.key;return"Below 6 Years"===e||"Between 6 and 12 Years"===e||"Between 12 and 16 Years"===e||"Between 16 and 18 Years"===e?{fill:"red",stroke:"none"}:{stroke:"red"}}}},At=Nt,Wt=(n("dc55"),Object(j["a"])(At,Pt,Lt,!1,null,"5a8adbf0",null));Wt.options.__file="Age.vue";var $t=Wt.exports,Bt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"db w-90 center"},[n("div",{staticClass:"db w-90 w-50-ns center mv5"},[n("TreeMap",{staticClass:"w-100",style:"height: "+.5*t.windowHeight+"px;",attrs:{containerHeight:.5*t.windowHeight,treeData:t.treeData[t.treeData.length-1],styleFunction:t.styleFunction}}),t._l(t.scale.domain(),function(e){return[n("span",{staticClass:"dib ma1 pa1 teko black",style:"background: "+t.scale(e)},[t._v(t._s(e))])]}),n("h3",{staticClass:"tc f3 mt2 teko white"},[t._v("Offenders relation to victims of Rape across India")])],2),t._l(t.treeData,function(e,i){return[i!==t.treeData.length-1?n("div",{staticClass:"dib w-third w-ninth-ns mv3 v-top"},[n("TreeMap",{staticClass:"w-100",style:"height: "+.15*t.windowHeight+"px;",attrs:{containerHeight:.15*t.windowHeight,treeData:e,styleFunction:t.styleFunction}}),n("h5",{staticClass:"tc f4 teko white mt1"},[t._v(t._s(e.name))])],1):t._e()]})],2)},It=[],Yt=(n("7f7f"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._l(t.labels,function(e){return[n("span",{style:"fill: "+t.scale(e)},[t._v(t._s(e))])]})],2)}),Xt=[],Gt=(n("f7fe"),{name:"LegendOrdinal",props:{scale:{type:Function},labels:{type:Array,default:[]}}}),Kt=Gt,Vt=(n("0562"),Object(j["a"])(Kt,Yt,Xt,!1,null,"3cc1cf84",null));Vt.options.__file="LegendOrdinal.vue";var qt=Vt.exports,Jt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",[t._l(t.nodes,function(e){return[e.hasOwnProperty("x0")?n("rect",{style:t.styleFunction(e),attrs:{x:t.marginLeft+e.x0,y:t.marginTop+e.y0,width:e.x1-e.x0,height:e.y1-e.y0}}):t._e()]})],2)},Qt=[],Ut=n("c947"),Zt=n("f7fe"),te={name:"TreeMap",props:{treeData:{type:Object,default:function(){return{}},required:!0},margin:{type:Array,default:function(){return[0,5,0,5]}},marginTop:{type:Number,default:function(){return this.margin[0]}},marginRight:{type:Number,default:function(){return this.margin[1]}},marginBottom:{type:Number,default:function(){return this.margin[2]}},marginLeft:{type:Number,default:function(){return this.margin[3]}},styleFunction:{default:function(){return function(t){return{fill:"red"}}}},containerHeight:{type:Number,default:0}},data:function(){return{width:400,height:400,root:Object(Ut["a"])({}),nodes:[]}},mounted:function(){this.resizeWindow(),window.addEventListener("resize",Zt(this.resizeWindow,60))},watch:{treeData:function(t,e){this.root=Object(Ut["a"])(t).sum(function(t){return t.value}),this.layout(this.root),this.nodes=this.root.leaves()},width:function(t,e){this.root=Object(Ut["a"])(this.treeData).sum(function(t){return t.value}),this.layout(this.root),this.nodes=this.root.leaves()},containerHeight:function(t,e){this.resizeWindow()}},methods:{resizeWindow:function(){this.width=this.$el.getBoundingClientRect().width-this.marginLeft-this.marginRight,this.height=this.$el.getBoundingClientRect().height-this.marginTop-this.marginBottom}},computed:{layout:function(){return Object(Ut["b"])().size([this.width,this.height]).tile(Ut["c"]).padding(0)}}},ee=te,ne=(n("093a"),Object(j["a"])(ee,Jt,Qt,!1,null,"5416d8f3",null));ne.options.__file="TreeMap.vue";var ie=ne.exports,re={name:"Relation",components:{TreeMap:ie,LegendOrdinal:qt},data:function(){return{treeData:{},windowHeight:0,scale:Object(at["d"])().domain(["Grand Father/ Father/ Brother/ Son","Close Family Members","Relatives","Partner / Husband / Separated/ Ex","Employer/Coworker","Neighbors","Known persons on promise to marry the victim","Other known persons","Offenders not known to victims"]).range(ht["b"])}},mounted:function(){this.windowHeight=window.innerHeight},methods:{styleFunction:function(t){return t.data.hasOwnProperty("name")?{fill:this.scale(t.data.name)}:{fill:"red"}}},created:function(){var t=Object(c["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(y["a"])("relation.csv");case 3:this.treeData=t.sent,this.treeData=this.treeData.map(function(t){return{name:t["Name"],children:[{name:"Known to victims",children:[{name:"Partner / Husband / Separated/ Ex",value:parseInt(t["Partner / Husband / Separated/ Ex"])},{name:"Employer/Coworker",value:parseInt(t["Employer/Coworker"])},{name:"Other known persons",value:parseInt(t["Other known persons"])},{name:"Known persons on promise to marry the victim",value:parseInt(t["Known persons on promise to marry the victim"])},{name:"Neighbors",value:parseInt(t["Neighbors"])},{name:"Relatives",value:parseInt(t["Relatives"])},{name:"Close Family Members",value:parseInt(t["Close Family Members"])},{name:"Grand Father/ Father/ Brother/ Son",value:parseInt(t["Grand Father/ Father/ Brother/ Son"])}]},{name:"Offenders not known to victims",value:parseInt(t["Offenders not known to victims"])}]}}),t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));return function(){return t.apply(this,arguments)}}()},ae=re,oe=(n("dba9"),Object(j["a"])(ae,Bt,It,!1,null,null,null));oe.options.__file="Relation.vue";var se=oe.exports,ce=n("2f62");i["a"].use(ce["a"]);var ue=new ce["a"].Store({state:{height:500,width:500,table1:[],india_geo:{},allPoints:{},allPositions:[],layout2:[]},mutations:{addCrimeTotal:function(t,e){t.table1.push(e)},addIndiaFeature:function(t,e){t.india_geo[e.key]=e.data},addPoint:function(t,e){t.allPoints.hasOwnProperty(e.key)||(t.allPoints[e.key]=[]),t.allPoints[e.key].push([e.data[0],e.data[1]]),t.allPositions.push([e.data[0],e.data[1]])},setWindowHeight:function(t,e){t.height=e},setWindowWidth:function(t,e){t.width=e}},getters:{getCrimeTotals:function(t,e){return t.table1},getIndiaGeo:function(t){return function(e){return t.india_geo[e]}},getStates:function(t){return t.allPoints},getPoints:function(t,e){var n=Object(J["a"])().translate([t.width/2,t.height/2]).scale(1e3).center([82.94393157959001,21.868324442109888]);return t.allPositions.map(function(t){return n(t)})},minDimension:function(t){return Math.min(t.width,t.height)},sideLength:function(t,e){return 1},layout2:function(t,e){var n=Object(rt["a"])(Array(338954).keys()).map(function(t){var e=t%583,n=Math.floor(t/583);return[e,n]});return n}}});i["a"].config.productionTip=!1,new i["a"]({store:ue,render:function(t){return t(X)}}).$mount("#sankey"),new i["a"]({store:ue,render:function(t){return t(H)}}).$mount("#particleSankey"),new i["a"]({store:ue,render:function(t){return t(pt)}}).$mount("#mapNumber"),new i["a"]({render:function(t){return t(Mt)}}).$mount("#mapRate"),new i["a"]({render:function(t){return t($t)}}).$mount("#age"),new i["a"]({render:function(t){return t(se)}}).$mount("#relation")},6669:function(t,e,n){},"700f":function(t,e,n){},"83e2":function(t,e,n){"use strict";var i=n("6669"),r=n.n(i);r.a},8533:function(t,e){t.exports="precision mediump float;\n#define GLSLIFY 1\nattribute float sourceX;\nattribute float sourceY;\nattribute float targetX;\nattribute float targetY;\nattribute float elapsed;\nattribute float duration;\n\nuniform float stageWidth;\nuniform float stageHeight;\nuniform float pointWidth;\nuniform bool isMobile;\n\n// Credits to Peter Beshai\nvec2 normalizeCoords(float x, float y) {\n  return vec2(\n  2.0 * ((x / stageWidth) - 0.5),\n  // invert y to treat [0,0] as bottom left in pixel space\n  -(2.0 * ((y / stageHeight) - 0.5)));\n}\n\nfloat easeCubicInOut(float t) {\n  t *= 2.0;\n  t = (t <= 1.0 ? t * t * t : (t -= 2.0) * t * t + 2.0) / 2.0;\n  if (t > 1.0) {\n    t = 1.0;\n  }\n  return t;\n}\n\nfloat linear (float t) {\n  if (t > 1.0) {\n    t = 1.0;\n  }\n  return t;\n}\n\nvoid main () {\n  gl_PointSize = pointWidth;\n  float yt;\n  float xt;\n  if (elapsed < 0.0) {\n    yt = 0.0;\n    xt = 0.0;\n  } else {\n    yt = isMobile ? linear(elapsed / duration) : easeCubicInOut(elapsed / duration);\n    xt = isMobile ? easeCubicInOut(elapsed / duration) : linear(elapsed / duration);\n  }\n\n  float currentX = mix(sourceX, targetX, xt);\n  float currentY = mix(sourceY, targetY, yt);\n\n  gl_Position = vec4(normalizeCoords(currentX, currentY), 0, 1);\n}"},"879a":function(t,e,n){},"8d5c":function(t,e){t.exports="precision highp float;\n#define GLSLIFY 1\n\nuniform vec4 color;\n\nvoid main () {\n  gl_FragColor = color;\n}"},"989c":function(t,e,n){},b8a8:function(t,e,n){"use strict";var i=n("df49"),r=n.n(i);r.a},b960:function(t,e,n){},c6e0:function(t,e,n){},d302:function(t,e,n){"use strict";var i=n("317e"),r=n.n(i);r.a},d422:function(t,e,n){"use strict";var i=n("b960"),r=n.n(i);r.a},dba9:function(t,e,n){"use strict";var i=n("879a"),r=n.n(i);r.a},dc55:function(t,e,n){"use strict";var i=n("c6e0"),r=n.n(i);r.a},dd2b:function(t,e,n){"use strict";var i=n("fd2e"),r=n.n(i);r.a},df49:function(t,e,n){},df7b:function(t,e,n){"use strict";var i=n("2b76"),r=n.n(i);r.a},f561:function(t,e,n){"use strict";var i=n("f9d7"),r=n.n(i);r.a},f787:function(t,e,n){"use strict";var i=n("0394"),r=n.n(i);r.a},f9d7:function(t,e,n){},fd2e:function(t,e,n){}});
//# sourceMappingURL=app.ebfc49ad.js.map